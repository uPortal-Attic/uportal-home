<div class="portlet-list-item" >
  <h2 tabindex="0" id="appTitle{{::portlet.title}}">
    <portlet-icon class='five-px-top-left'></portlet-icon>
    <span class="portlet-title">{{::portlet.title}}</span>
  </h2>
  <div class="action-buttons">

    <!-- Add to Home button with access -->
    <button id="AddToFavoritesButton" aria-labelledby="appTitle{{::portlet.title}} AddToFavoritesButton" class="btn btn-primary fname-{{::portlet.fname}}"
            ng-click="marketplaceCtrl.addToHome($index , portlet)"
            ng-if="portlet.canAdd && !portlet.hasInLayout"
            ng-class="{disabled : portlet.hasInLayout}">
      <span class="fa fa-plus"></span>Add to Favorites
    </button>

    <!-- Already in Home -->
    <button id="AlreadyInFavoritesButton" aria-labelledby="appTitle{{::portlet.title}} AlreadyInFavoritesButton" class="btn btn-disabled fname-{{::portlet.fname}}"
            ng-if="portlet.canAdd && portlet.hasInLayout"
            ng-class="{'btn-disabled' : portlet.hasInLayout}"
            popover="This app is already in your favorites"
            popover-trigger="mouseenter"
            popover-placement="top"
            popover-popup-delay="500">
      <i class="fa fa-check"></i>Already in Favorites
    </button>

    <!-- Add to Home button without access -->
    <button aria-labelledby="appTitle{{::portlet.title}} AddToFavoritesButton" class="btn btn-disabled" ng-hide="portlet.canAdd" popover="You do not have access to this app" popover-trigger="mouseenter" popover-placement="top" popover-popup-delay="500">
      <span class="fa fa-plus"></span>Add to Favorites
    </button>

    <sub hidden id="goToApps">go to</sub>

    <!-- Launch button with access -->
    <a aria-labelledby="goToApps appTitle{{::portlet.title}}" class="btn btn-success" href="{{::portlet.maxUrl}}" target="{{::portlet.target}}" ng-if="portlet.canAdd"><span class="fa fa-arrow-circle-o-right"></span>Launch</a>

    <!-- Launch button without access -->
    <a aria-labelledby="goToApps appTitle{{::portlet.title}}" class="btn btn-disabled" href ng-hide="portlet.canAdd" popover="You do not have access to this app" popover-trigger="mouseenter" popover-placement="top" popover-popup-delay="500"><span class="fa fa-arrow-circle-o-right"></span>Launch</a>

  </div><br>
  <span><rating ng-model="portlet.rating" readonly="true" class="rating"></rating>
    ( {{::portlet.userRated}} rating<span ng-if="portlet.userRated !== 1">s</span> )
  </span>
  <span> | <button ng-click="openRating('sm',portlet.fname, portlet.title)" class="btn btn-default">Rate</button></span>
  <p>{{::portlet.description}}</p>
  <div class="category-list">
    <a ng-repeat="category in portlet.categories" href="" ng-click="selectFilter('category',category)" class="category-links">{{::category}}</a>
    <div class="portlet-details">
      <a href="apps/details/{{::portlet.fname}}">Details</a>
    </div>
  </div>
  
  

  <!-- Action buttons for mobile -->
  <div class="action-buttons-mobile">

    <!-- Add to Home button with access on mobile-->
    <button aria-labelledby="appTitle{{::portlet.title}} AddToFavoritesButton" class="btn btn-primary fname-{{::portlet.fname}}" ng-click="marketplaceCtrl.addToHome($index , portlet)" ng-show="portlet.canAdd">
      <span class="fa fa-plus"></span>Add to Favorites
    </button>

    <!-- Add to Home button without access on mobile-->
    <button aria-labelledby="appTitle{{::portlet.title}} AddToFavoritesButton" class="btn btn-disabled" ng-hide="portlet.canAdd" popover="You do not have access to this app" popover-trigger="mouseenter" popover-placement="top" popover-popup-delay="500">
      <span class="fa fa-plus"></span>Add to Favorites
    </button>

    <!-- Launch button with access on mobile-->
    <a aria-labelledby="goToApps appTitle{{::portlet.title}}" class="btn btn-success" href="{{::portlet.maxUrl}}" ng-show="portlet.canAdd"><span class="fa fa-arrow-circle-o-right"></span>Launch</a>

    <!-- Launch button without access on mobile-->
    <a aria-labelledby="goToApps appTitle{{::portlet.title}}" class="btn btn-disabled" href ng-hide="portlet.canAdd" popover="You do not have access to this app" popover-trigger="mouseenter" popover-placement="top" popover-popup-delay="500"><span class="fa fa-arrow-circle-o-right"></span>Launch</a>
  </div>


</div>
