<!--

    Licensed to Apereo under one or more contributor license
    agreements. See the NOTICE file distributed with this work
    for additional information regarding copyright ownership.
    Apereo licenses this file to you under the Apache License,
    Version 2.0 (the "License"); you may not use this file
    except in compliance with the License.  You may obtain a
    copy of the License at the following location:

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

-->
<style>
  .widget-container {
    max-width: 310px;
  }
</style>
<frame-page app-title="Search results" app-icon="search" page-title="Search results" white-background="true">
  <md-content class="search-results">
    <p class="search-term">Showing results for <span>"{{ searchTerm }}"</span></p>
    <md-tabs md-dynamic-height md-border-bottom >

      <!-- ALL RESULTS -->
      <md-tab>
        <md-tab-label>
          All</span>
        </md-tab-label>
        <md-tab-body>
          <md-content>

           <!-- No results and no hope for results;
            Offer some failed search recovery suggestions. -->
           <div id="no-results" class="search-results-container search-results"
              ng-show="!appDirectoryHopeForResults
                && !wiscDirectoryHopeForResults
                && !googleHopeForResults">
              <p><strong>No matches.</strong></p>
              <p>Suggestions:</p>
              <p ng-if="kbSearchUrl">
                Search the
                  <a ng-href="{{kbSearchUrl}}{{searchText}}"
                    target="_blank" rel="noopener noreferrer">
                      KnowledgeBase</a>
              </p>
              <p ng-if="eventsSearchUrl">
                Look for
                  <a ng-href="{{eventsSearchUrl}}{{searchText}}"
                    target="_blank" rel="noopener noreferrer">
                    events</a>
              </p>
              <p ng-if="helpdeskUrl">
                Get help from the
                  <a ng-href="{{helpdeskUrl}}"
                  target="_blank" rel="noopener noreferrer">
                    Help Desk</a>
              </p>
              <p ng-if="feedbackUrl">
                <a ng-href="{{feedbackUrl}}"
                  target="_blank" rel="noopener noreferrer">Give feedback</a>
                on {{portal.theme.title}} search
              </p>
            </div>

            <!-- MyUW results -->
            <div class="search-results-container">
              <marketplace-results></marketplace-results>
            </div>

            <!-- Wisc directory results-->
            <div ng-show="directoryEnabled" class="search-results-container">
              <directory-results></directory-results>
            </div>

            <!--Campus domain results-->
            <div ng-show="googleSearchEnabled" class="search-results-container">
              <campus-domain-results></campus-domain-results>
            </div>
          </md-content>
        </md-tab-body>
      </md-tab>

      <!-- MyUW RESULTS ONLY -->
      <md-tab ng-if="googleSearchEnabled || directoryEnabled">
        <md-tab-label>
          {{ portal.theme.title }}
        </md-tab-label>
        <md-tab-body>
          <md-content>
            <!-- MyUW results -->
            <div class="search-results-container">
              <marketplace-results></marketplace-results>
            </div>
          </md-content>
        </md-tab-body>
      </md-tab>

      <!-- DIRECTORY RESULTS ONLY -->
      <md-tab ng-if="directoryEnabled">
        <md-tab-label>
          Directory&nbsp;&nbsp;
          <span class="badge">{{ wiscDirectoryResultsBadge }}</span>
        </md-tab-label>
        <md-tab-body>
          <md-content>
            <!-- Wisc directory results-->
            <div ng-show="directoryEnabled" class="search-results-container">
              <directory-results></directory-results>
            </div>
          </md-content>
        </md-tab-body>
      </md-tab>

      <!-- GOOGLE CUSTOM SEARCH RESULTS ONLY -->
      <md-tab ng-if="googleSearchEnabled">
        <md-tab-label>
          {{domainResultsLabel}}&nbsp;&nbsp;<span class="badge">{{ googleResultsEstimatedCount }}</span>
        </md-tab-label>
        <md-tab-body>
          <md-content>
            <!--Campus domain results-->
            <div ng-show="googleSearchEnabled" class="search-results-container">
              <campus-domain-results></campus-domain-results>
            </div>
          </md-content>
        </md-tab-body>
      </md-tab>

      <md-tab>
        <md-tab-label>
          Other
        </md-tab-label>
        <md-tab-body>
          <md-content>
            <div style="padding:18px;">
              In addition to searching within MyUW, you can use MyUW to launch
              searches into some of the many resources of the university.
            </div>

            <div layout="row" layout-align="center start"
              style="flex-wrap:wrap;padding:18px;">
              <div flex-xs="100" class="widget-container">
                <widget fname="wisc-kb" fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="uwec-kb" fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="madison-public-course-search"
                  fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="ResearcherPortlet" fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="rprg" fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="directory-of-resources-for-researchers"
                  fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="madison-library-catalog"
                  fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="uw-service-center" fail-silently="true"></widget>
              </div>
              <div flex-xs="100" class="widget-container">
                <widget fname="speakers-bureau" fail-silently="true"></widget>
              </div>
            </div>

            <div style="padding:18px;">
              <a href="/portal/p/feedback">Suggest an addition to this page</a>.
            </div>

            </md-content>
          </md-tab-body>
        </md-tab>

    </md-tabs>
  </md-content>
</frame-page>
